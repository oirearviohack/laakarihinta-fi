{"version":3,"sources":["webpack:///webpack/bootstrap c0dc1646f60963f86508","webpack:///external \"react\"","webpack:///external \"http-status-codes\"","webpack:///external \"prop-types\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"material-ui/Typography\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"react-router-config\"","webpack:///./src/config.js","webpack:///./src/lib/server/wrap.js","webpack:///./src/routes.js","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"body-parser\"","webpack:///external \"classnames\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"material-ui/Button\"","webpack:///external \"material-ui/Paper\"","webpack:///external \"material-ui/styles/MuiThemeProvider\"","webpack:///external \"react-helmet\"","webpack:///external \"react-router-dom\"","webpack:///external \"redux\"","webpack:///external \"webpack\"","webpack:///external \"webpack-isomorphic-tools/plugin\"","webpack:///./src/server.js","webpack:///./src/components/app/app-head.js","webpack:///./src/components/app/app.js","webpack:///./src/components/header/header.js","webpack:///./src/components/html/html.js","webpack:///./src/components/layouts/main.js","webpack:///./src/components/locale/locale-actions.js","webpack:///./src/components/locale/locale-reducer.js","webpack:///./src/lib/server/enable-development-settings.js","webpack:///./src/lib/server/error-handlers.js","webpack:///./src/lib/server/health-check.js","webpack:///./src/lib/server/render-handler.js","webpack:///./src/lib/shared/isomorphic-fetch-wrapper.js","webpack:///./src/lib/shared/style-manager.js","webpack:///./src/pages/image-upload/droparea.js","webpack:///./src/pages/image-upload/image-upload.js","webpack:///./src/pages/image-upload/tutorial-panel.js","webpack:///./src/pages/image-upload/upload-panel.js","webpack:///./src/pages/not-found/not-found.js","webpack:///./src/pages/symptom-selection/symptom-selection.js","webpack:///./src/redux/initial-state.js","webpack:///./src/redux/root-reducer.js","webpack:///./src/redux/store.js","webpack:///./src/server/api-router.js","webpack:///./src/server/controllers/image-controller.js","webpack:///./tools/webpack/WIT.config.js","webpack:///./tools/webpack/config.js","webpack:///./tools/webpack/webpack.client.js","webpack:///./src/assets/images/otakuva.jpg","webpack:///(webpack)/buildin/harmony-module.js","webpack:///external \"autoprefixer\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"babel-runtime/helpers/objectWithoutProperties\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"bluebird\"","webpack:///external \"compression\"","webpack:///external \"extract-text-webpack-plugin\"","webpack:///external \"forcedomain\"","webpack:///external \"form-data\"","webpack:///external \"fs\"","webpack:///external \"helmet\"","webpack:///external \"hpp\"","webpack:///external \"lodash/isEmpty\"","webpack:///external \"lodash/keys\"","webpack:///external \"lodash/uniqueId\"","webpack:///external \"material-ui-icons/AddAPhoto\"","webpack:///external \"material-ui-icons/FileUpload\"","webpack:///external \"material-ui-icons/Help\"","webpack:///external \"material-ui-icons/Menu\"","webpack:///external \"material-ui/AppBar\"","webpack:///external \"material-ui/Card\"","webpack:///external \"material-ui/IconButton\"","webpack:///external \"material-ui/Toolbar\"","webpack:///external \"material-ui/styles/colors\"","webpack:///external \"material-ui/styles/palette\"","webpack:///external \"material-ui/styles/theme\"","webpack:///external \"precss\"","webpack:///external \"qs\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-dropzone\"","webpack:///external \"react-redux\"","webpack:///external \"redux-thunk\"","webpack:///external \"serialize-javascript\"","webpack:///external \"serve-favicon\"","webpack:///external \"sharp\"","webpack:///external \"stylelint-webpack-plugin\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\""],"names":["module","exports","host","process","env","NODE_HOST","port","PORT","fn","length","req","res","next","catch","err","routes","component","path","exact","SymptomSelection","ImageUpload","NotFound","app","express","use","forceDomain","hostname","protocol","helmet","hpp","compression","__DEV__","enableDevelopmentSettings","favicon","join","cwd","static","maxAge","wrap","listen","error","console","log","AppHead","lang","rel","type","href","name","content","App","renderRoutes","withRouter","s","toolBar","display","justifyContent","Header","header","propTypes","store","PropTypes","object","isRequired","htmlContent","string","materialCSS","Html","head","Helmet","renderStatic","attrs","htmlAttributes","toComponent","rest","assets","webpackIsomorphicTools","title","base","meta","link","styles","map","style","__html","serialize","getState","javascript","reverse","script","defaultProps","Main","jssStyles","document","getElementById","parentNode","removeChild","props","route","shape","array","GET_LOCALE","GET_LOCALE_ERROR","GET_LOCALE_SUCCESS","getLocaleStart","getLocaleError","getLocaleSuccess","strings","locale","stringsNeedToBeFetched","localeStore","fetchError","getLocale","dispatch","Error","fetch","message","localeActions","actionTypes","localeReducer","initialState","action","isFetching","lastUpdated","Date","getTime","webpack","require","webpackDevMiddleware","webpackHotMiddleware","webpackConfig","compiler","publicPath","output","hot","noInfo","stats","logErrors","stack","clientErrorHandler","status","HttpStatus","UNAUTHORIZED","json","catchAllErrorHandler","sendStatus","INTERNAL_SERVER_ERROR","healthCheckRouter","Router","get","OK","renderHtml","html","renderToStaticMarkup","renderHandler","refresh","configureStore","__DISABLE_SSR__","send","routePromises","matchRoutes","url","filter","fetchData","match","params","Promise","all","createStyleManager","styleManager","theme","routerContext","renderToString","redirect","PERMANENTLY_MOVED","setHeader","sheetsToString","pathWithQueryString","query","qs","stringify","defineRequestUrl","__SERVER__","config","responseIsJson","response","contentType","headers","includes","isomorphicFetchWrapper","options","modifiedPath","fetchOptions","MuiThemeProvider","createDefaultContext","createMuiTheme","palette","createPalette","primary","accent","alternateTextColor","DropArea","dropzoneVisibility","classNames","imagePreviewUrl","onImageChange","func","state","file","submitInProgress","onSubmitClicked","removeImage","files","reader","FileReader","onloadend","setState","result","readAsDataURL","method","body","then","paperStyle","padding","paperTitle","alignItems","instructionImage","width","height","TutorialPanel","controlButton","UploadPanel","controlButtonContainerClass","row","bool","NotFoundPage","responsiveSymptomImage","symptomButton","card","margin","firstCard","marginTop","marginBottom","goToPhotoUpload","history","push","ajaxEntity","combineReducers","middlewares","enhancers","applyMiddleware","window","devToolsExtension","f","createStore","compose","accept","nextReducer","default","replaceReducer","apiRouter","bodyParser","NOT_FOUND","VISUAL_RECOGNITION_ENTRYPOINT","PHR_DOCUMENT_REFERENCE_ENDPOINT","ImageController","router","registerRoutes","call","post","raw","limit","recognizeImage","mimetype","base64Data","toString","replace","image","sharp","Buffer","metadata","resizeBuffer","imageBuffer","formData","append","enrichWithAnalysis","data","withClassName","element","class","className","classes","images","classifiers","contactLens","find","score","opticalDevice","canthus","isEye","detectEye","largerDimension","dimension","value","resized","resize","toBuffer","phrRequestBody","resourceType","indexed","coding","system","code","attachment","fs","readFileSync","resolve","__dirname","httpStatus","BAD_REQUEST","WebpackIsomorphicToolsPlugin","extensions","parser","url_loader_parser","fonts","svg","extension","style_modules","regex","development","style_loader_filter","test","style_loader_path_extractor","css_modules_loader_parser","source","CSSModules","eslint","stylelint","vendor","precss","autoprefixer","ExtractTextPlugin","StyleLintPlugin","nodeEnv","NODE_ENV","isDev","webpackIsomorphicToolsPlugin","getPlugins","plugins","filename","allChunks","disable","ignoreOrder","LoaderOptionsPlugin","failOnError","context","debug","minimize","syntax","EnvironmentPlugin","DefinePlugin","__CLIENT__","NoEmitOnErrorsPlugin","HotModuleReplacementPlugin","NamedModulesPlugin","IgnorePlugin","optimize","CommonsChunkPlugin","minChunks","Infinity","HashedModuleIdsPlugin","UglifyJsPlugin","sourceMap","beautify","mangle","screw_ie8","compress","warnings","unused","dead_code","comments","getEntry","entry","main","target","cache","devtool","chunkFilename","pathinfo","rules","enforce","exclude","loader","cacheDirectory","babelrc","presets","modules","extract","fallback","importLoaders","localIdentName","browsers","outputStyle","sourceMapContents","regular_expression","bypassOnDebug","resolveLoader","moduleExtensions","descriptionFiles","node","vm","net","tls"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACvBA,yC;;;;;;ACAA,gE;;;;;;ACAA,0E;;;;;;ACAA,yD;;;;;;ACAA,qC;;;;;;ACAA,wC;;;;;;ACAA,wD;;;;;;ACAA,wC;;;;;;ACAA,sC;;;;;;ACAA,+B;;;;;;ACAA,mC;;;;;;ACAA,gC;;;;;;ACAA,2C;;;;;;ACAA,wC;;;;;;ACAA,4C;;;;;;ACAA,wD;;;;;;ACAA,yD;;;;;;ACAA,mD;;;;;;ACAA,mD;;;;;;ACAA,+C;;;;;;ACAA,6C;;;;;;ACAA,mD;;;;;;ACAA,gD;;;;;;ACAA,sD;;;;;;ACAA,uD;;;;;;ACAA,qD;;;;;;ACAA,mC;;;;;;ACAA,+B;;;;;;ACAA,6C;;;;;;ACAA,2C;;;;;;ACAA,wC;;;;;;ACAA,wC;;;;;;ACAA,iD;;;;;;ACAA,0C;;;;;;ACAA,kC;;;;;;ACAA,qD;;;;;;ACAA,mD;;;;;;ACAA,mD","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 99);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c0dc1646f60963f86508","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"http-status-codes\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http-status-codes\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/extends\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"material-ui/Typography\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/Typography\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"react-router-config\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-config\"\n// module id = 11\n// module chunks = 0","module.exports = {\n    host: process.env.NODE_HOST || 'localhost',\n    port: process.env.PORT || '8080'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","export default (fn) => {\n    if (fn.length <= 3) {\n        return (req, res, next) => fn(req, res, next).catch(next);\n    }\n\n    return (err, req, res, next) => fn(err, req, res, next).catch(next);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/server/wrap.js","import Main from './components/layouts/main';\nimport ImageUpload from './pages/image-upload/image-upload';\nimport SymptomSelection from './pages/symptom-selection/symptom-selection';\nimport NotFound from './pages/not-found/not-found';\n\n\nconst routes = [\n    {\n        component: Main,\n        routes: [\n            {\n                path: '/',\n                component: SymptomSelection,\n                exact: true\n            },\n            {\n                path: '/oirevaihtoehdot',\n                component: SymptomSelection\n            },\n            {\n                path: '/kuva-analyysi',\n                component: ImageUpload\n            },\n            {\n                path: '*',\n                component: NotFound\n            }\n        ]\n    }\n];\n\nexport default routes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes.js","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/get-prototype-of\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/inherits\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/inherits\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/possibleConstructorReturn\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"classnames\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"classnames\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"material-ui/Button\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/Button\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"material-ui/Paper\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/Paper\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"material-ui/styles/MuiThemeProvider\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/styles/MuiThemeProvider\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"webpack-isomorphic-tools/plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-isomorphic-tools/plugin\"\n// module id = 29\n// module chunks = 0","import express from 'express';\nimport compression from 'compression';\nimport helmet from 'helmet';\nimport hpp from 'hpp';\nimport favicon from 'serve-favicon';\nimport path from 'path';\nimport forceDomain from 'forcedomain';\nimport { port } from './config';\nimport apiRouter from './server/api-router';\nimport healthCheck from './lib/server/health-check';\nimport enableDevelopmentSettings from './lib/server/enable-development-settings';\nimport renderHandler from './lib/server/render-handler';\nimport wrap from './lib/server/wrap';\nimport { logErrors, catchAllErrorHandler, clientErrorHandler } from './lib/server/error-handlers';\n\n\nconst app = express();\napp.use(healthCheck);\napp.use(forceDomain({ hostname: 'image-symtop.herokuapp.com', protocol: 'https' }));\napp.use(helmet());\napp.use(hpp());\napp.use(compression());\n\nif (__DEV__) enableDevelopmentSettings(app);\n\napp.use(favicon(path.join(process.cwd(), './build/public/favicon.ico')));\napp.use(express.static(path.join(process.cwd(), './build/public'), { maxAge: '7d' }));\napp.use('/api', apiRouter);\napp.use(wrap(renderHandler));\napp.use(logErrors);\napp.use(clientErrorHandler);\napp.use(catchAllErrorHandler);\n\n\napp.listen(port, (error) => {\n    if (error) throw error;\n    // if (__DEV__) require('../tools/openBrowser').default(port);\n    console.log('Express server listening on port', port);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/server.js","/* eslint-disable max-len */\nimport React from 'react';\nimport Helmet from 'react-helmet';\n\n\nconst AppHead = () => (\n    <Helmet\n        htmlAttributes={{ lang: 'en' }}\n        title=\"Wwwonderful\"\n        titleTemplate=\"Wwwonderful\"\n        defaultTitle=\"Wwwonderful\"\n        link={[\n            { rel: 'stylesheet', type: 'text/css', href: '//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' },\n            { rel: 'stylesheet', type: 'text/css', href: '//fonts.googleapis.com/css?family=Roboto:300,400,500' }\n        ]}\n        meta={[\n            { name: 'description', content: 'Coronaria Customer Targeting Tool' },\n            { name: 'viewport', content: 'width=device-width, initial-scale=1.0, shrink-to-fit=no' }\n        ]}\n    />\n);\n\nexport default AppHead;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app/app-head.js","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { renderRoutes } from 'react-router-config';\nimport AppHead from './app-head';\nimport routes from '../../routes';\nimport '../../assets/styles/main.scss';\n\n\nconst App = () => (\n    <div className=\"app-container\">\n        <AppHead />\n        {renderRoutes(routes)}\n    </div>\n);\n\nexport default withRouter(App);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/app/app.js","import React from 'react';\nimport AppBar from 'material-ui/AppBar';\nimport Toolbar from 'material-ui/Toolbar';\nimport Typography from 'material-ui/Typography';\nimport IconButton from 'material-ui/IconButton';\nimport Menu from 'material-ui-icons/Menu';\n\n\nconst s = {\n    toolBar: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    }\n};\n\nconst Header = () => (\n    <AppBar className={s.header}>\n        <Toolbar style={s.toolBar}>\n            <Typography type=\"title\">\n                Hoitoarvio kuvan avulla\n            </Typography>\n            <IconButton>\n                <Menu />\n            </IconButton>\n        </Toolbar>\n    </AppBar>\n);\n\n\nexport default Header;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/header/header.js","/* eslint-disable react/no-danger, max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport serialize from 'serialize-javascript';\nimport _ from 'lodash';\n\n\nconst propTypes = {\n    store: PropTypes.object.isRequired,\n    htmlContent: PropTypes.string.isRequired,\n    materialCSS: PropTypes.string.isRequired\n};\n\nconst Html = ({ store, htmlContent, materialCSS }) => {\n    const head = Helmet.renderStatic();\n    const attrs = head.htmlAttributes.toComponent();\n    const { lang, ...rest } = attrs || {};\n    const assets = webpackIsomorphicTools.assets(); // eslint-disable-line no-undef\n\n    return (\n        <html {...rest} lang={lang || 'en'}>\n            <head>\n                {head.title.toComponent()}\n                {head.base.toComponent()}\n                {head.meta.toComponent()}\n                {head.link.toComponent()}\n                {_.keys(assets.styles).map(style =>\n                    <link\n                        key={_.uniqueId()}\n                        href={assets.styles[style]}\n                        media=\"screen, projection\"\n                        rel=\"stylesheet\"\n                        type=\"text/css\"\n                  />,\n                )}\n            </head>\n            <body>\n                <div id=\"app\" dangerouslySetInnerHTML={{ __html: htmlContent || '' }} />\n                <script dangerouslySetInnerHTML={{ __html: store && `window.__INITIAL_STATE__=${serialize(store.getState())};` }} />\n                {_.keys(assets.javascript).reverse().map(script =>\n                    <script key={_.uniqueId()} src={assets.javascript[script]} />,\n                )}\n                {head.script.toComponent()}\n                <style id=\"jss-server-side\">{materialCSS}</style>\n            </body>\n        </html>\n    );\n};\n\nHtml.defaultProps = {\n    htmlContent: '',\n    materialCSS: ''\n};\n\nHtml.propTypes = propTypes;\n\nexport default Html;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/html/html.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { renderRoutes } from 'react-router-config';\nimport Header from '../header/header';\n\n\nclass Main extends Component {\n\n    static propTypes = {\n        route: PropTypes.shape({\n            routes: PropTypes.array\n        }).isRequired\n    };\n\n    componentDidMount() {\n        const jssStyles = document.getElementById('jss-server-side');\n        if (jssStyles && jssStyles.parentNode) {\n            jssStyles.parentNode.removeChild(jssStyles);\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"o-main-layout\">\n                <Header />\n                <div className=\"o-main-layout__content\">\n                    <div className=\"container u-margin-sm-top\">\n                        {renderRoutes(this.props.route.routes)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Main;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/layouts/main.js","import _ from 'lodash';\nimport fetch from '../../lib/shared/isomorphic-fetch-wrapper';\n\n\nconst GET_LOCALE = 'GET_LOCALE';\nconst GET_LOCALE_ERROR = 'GET_LOCALE_ERROR';\nconst GET_LOCALE_SUCCESS = 'GET_LOCALE_SUCCESS';\n\nconst getLocaleStart = () => ({ type: GET_LOCALE });\nconst getLocaleError = () => ({ type: GET_LOCALE_ERROR });\nconst getLocaleSuccess = (strings, locale) => ({ type: GET_LOCALE_SUCCESS, strings, locale });\n\nconst stringsNeedToBeFetched = ({ localeStore }) => __DEV__ || _.isEmpty(localeStore.strings) || localeStore.fetchError;\n\nconst getLocale = locale => async (dispatch, getState) => {\n    if (!locale) throw new Error('Need locale as a parameter');\n    if (stringsNeedToBeFetched(getState())) {\n        try {\n            dispatch(getLocaleStart());\n            dispatch(getLocaleSuccess(await fetch(`/api/locales/${locale}`), locale));\n        } catch (err) {\n            dispatch(getLocaleError(err.message));\n        }\n    }\n};\n\nconst localeActions = {\n    getLocale,\n    actionTypes: {\n        GET_LOCALE,\n        GET_LOCALE_ERROR,\n        GET_LOCALE_SUCCESS\n    }\n};\n\nexport default localeActions;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/locale/locale-actions.js","import initialState from '../../redux/initial-state';\nimport localeActions from './locale-actions';\n\n\nconst localeReducer = (localeStore = initialState.localeStore, action) => {\n    switch (action.type) {\n        case localeActions.actionTypes.GET_LOCALE:\n            return {\n                ...localeStore,\n                isFetching: true,\n                fetchError: false\n            };\n        case localeActions.actionTypes.GET_LOCALE_ERROR:\n            return {\n                ...localeStore,\n                isFetching: false,\n                fetchError: true\n            };\n        case localeActions.actionTypes.GET_LOCALE_SUCCESS:\n            return {\n                ...localeStore,\n                isFetching: false,\n                lastUpdated: new Date().getTime(),\n                locale: action.locale,\n                strings: action.strings\n            };\n        default:\n            return localeStore;\n    }\n};\n\nexport default localeReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/locale/locale-reducer.js","const enableDevelopmentSettings = (app) => {\n    const webpack = require('webpack');\n    const webpackDevMiddleware = require('webpack-dev-middleware');\n    const webpackHotMiddleware = require('webpack-hot-middleware');\n    const webpackConfig = require('../../../tools/webpack/webpack.client');\n    const compiler = webpack(webpackConfig);\n\n    app.use(webpackDevMiddleware(compiler, {\n        publicPath: webpackConfig.output.publicPath,\n        hot: true,\n        noInfo: true,\n        stats: 'minimal'\n    }));\n    app.use(webpackHotMiddleware(compiler));\n};\n\nexport default enableDevelopmentSettings;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/server/enable-development-settings.js","import HttpStatus from 'http-status-codes';\n\n\nexport const logErrors = (err, req, res, next) => {\n    console.error(err.stack);\n    next(err);\n};\n\nexport const clientErrorHandler = (err, req, res, next) => {\n    if (err.name === 'UnauthorizedError') {\n        res.status(HttpStatus.UNAUTHORIZED).json({ error: 'Unauthorized to access this endpoint!' });\n    } else {\n        next(err);\n    }\n};\n\nexport const catchAllErrorHandler = (err, req, res, next) => { // eslint-disable-line no-unused-vars\n    res.sendStatus(HttpStatus.INTERNAL_SERVER_ERROR); // TODO: Render something awesome when our server fails :D\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/server/error-handlers.js","import express from 'express';\nimport HttpStatus from 'http-status-codes';\n\n\nconst healthCheckRouter = express.Router();\nhealthCheckRouter.get('/health-check', (req, res) => res.sendStatus(HttpStatus.OK));\n\nexport default healthCheckRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/server/health-check.js","import React from 'react';\nimport Promise from 'bluebird';\nimport HttpStatus from 'http-status-codes';\nimport { matchRoutes } from 'react-router-config';\nimport { StaticRouter } from 'react-router-dom';\nimport { renderToString, renderToStaticMarkup } from 'react-dom/server';\nimport { Provider } from 'react-redux';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport configureStore from '../../redux/store';\nimport routes from '../../routes';\nimport App from '../../components/app/app';\nimport Html from '../../components/html/html';\nimport createStyleManager from '../../lib/shared/style-manager';\n\n\nconst renderHtml = (store, htmlContent, materialCSS) => {\n    const html = renderToStaticMarkup(\n        <Html\n            store={store}\n            htmlContent={htmlContent}\n            materialCSS={materialCSS}\n        />\n    );\n\n    return `<!DOCTYPE html>${html}`;\n};\n\nconst renderHandler = async (req, res) => {\n    if (__DEV__) webpackIsomorphicTools.refresh();\n    const store = configureStore();\n\n    if (__DISABLE_SSR__) {\n        return res.send(renderHtml(store));\n    }\n\n    const routePromises = matchRoutes(routes, req.url)\n        .filter(({ route }) => route.component && route.component.fetchData)\n        .map(({ route, match }) => route.component.fetchData(store, match.params));\n\n    await Promise.all(routePromises);\n\n    const { styleManager, theme } = createStyleManager();\n\n    const routerContext = {};\n    const content = renderToString(\n        <MuiThemeProvider styleManager={styleManager} theme={theme}>\n            <Provider store={store}>\n                <StaticRouter location={req.url} context={routerContext}>\n                    <App />\n                </StaticRouter>\n            </Provider>\n        </MuiThemeProvider>,\n    );\n\n    if (routerContext.url) {\n        return res.redirect(HttpStatus.PERMANENTLY_MOVED, routerContext.url).setHeader('Location', routerContext.url);\n    }\n\n    const materialCSS = styleManager.sheetsToString();\n\n    return res.status(HttpStatus.OK).send(renderHtml(store, content, materialCSS));\n};\n\nexport default renderHandler;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/server/render-handler.js","import fetch from 'isomorphic-fetch';\nimport qs from 'qs';\nimport config from '../../config';\n\n\nconst pathWithQueryString = (url, query) => `${url}?${qs.stringify(query)}`;\nconst defineRequestUrl = path => (__SERVER__ ? `http://${config.host}:${config.port}${path}` : path);\nconst responseIsJson = (response) => {\n    const contentType = response.headers.get('content-type');\n    return contentType ? contentType.includes('application/json') : false;\n};\n\nconst isomorphicFetchWrapper = async (path, options = {}) => {\n    const modifiedPath = options.query ? pathWithQueryString(path, options.query) : path;\n    const fetchOptions = {\n        ...options\n    };\n\n    const url = defineRequestUrl(modifiedPath);\n    const response = await fetch(url, fetchOptions);\n\n    if (responseIsJson(response)) {\n        return await response.json(); // eslint-disable-line no-return-await\n    }\n    return response;\n};\n\nexport default isomorphicFetchWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/shared/isomorphic-fetch-wrapper.js","import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport createPalette from 'material-ui/styles/palette';\nimport createMuiTheme from 'material-ui/styles/theme';\nimport { cyan, pink } from 'material-ui/styles/colors';\n\n\nconst createStyleManager = () => (\n    MuiThemeProvider.createDefaultContext({\n        theme: createMuiTheme({\n            palette: createPalette({\n                primary: cyan,\n                accent: pink,\n                type: 'light',\n                alternateTextColor: 'white'\n            })\n        })\n    })\n);\n\nexport default createStyleManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/shared/style-manager.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\nimport AddAPhoto from 'material-ui-icons/AddAPhoto';\nimport classNames from 'classnames';\n\n\nconst DropArea = (props) => {\n    const dropzoneVisibility = classNames({\n        'c-dropzone': true,\n        'u-hidden': !!props.imagePreviewUrl\n    });\n\n    return (\n        <section>\n            <img\n                src={props.imagePreviewUrl}\n                alt=\"\"\n                role=\"presentation\"\n                className=\"u-img-responsive u-margin-sm-bottom\"\n            />\n            <Dropzone className={dropzoneVisibility} onDrop={props.onImageChange}>\n                <div>\n                    <AddAPhoto className=\"u-text-center\" />\n                    <p>Ole hyvä ja lataa tai ota kuva.</p>\n                </div>\n            </Dropzone>\n        </section>\n    );\n};\n\nDropArea.propTypes = {\n    imagePreviewUrl: PropTypes.string.isRequired,\n    onImageChange: PropTypes.func.isRequired\n};\n\nexport default DropArea;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-upload/droparea.js","import React, { Component } from 'react';\nimport UploadPanel from './upload-panel';\nimport TutorialPanel from './tutorial-panel';\n\n\nclass ImageUpload extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            file: null,\n            imagePreviewUrl: '',\n            submitInProgress: false\n        };\n\n        this.onImageChange = ::this.onImageChange;\n        this.onSubmitClicked = ::this.onSubmitClicked;\n        this.removeImage = ::this.removeImage;\n    }\n\n    onImageChange(files) {\n        const reader = new FileReader();\n        const file = files ? files[0] : null;\n        reader.onloadend = () => {\n            this.setState({ file, imagePreviewUrl: reader.result });\n        };\n\n        this.setState({ file: null, imagePreviewUrl: '' });\n        reader.readAsDataURL(file);\n    }\n\n    onSubmitClicked() {\n        this.setState({ submitInProgress: true });\n        fetch('/api/recognize-image', {\n            method: 'POST',\n            body: this.state.imagePreviewUrl,\n            headers: { 'Content-Type': 'image/jpeg' }\n        }).then(result => result.json())\n          .then(() => {\n              this.setState({ submitInProgress: false });\n          });\n    }\n\n    removeImage() {\n        this.setState({\n            file: null,\n            imagePreviewUrl: ''\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"row\">\n                <div className=\"col-s-6 u-margin-sm-bottom\">\n                    <TutorialPanel />\n                </div>\n                <div className=\"col-s-6\">\n                    <UploadPanel\n                        imagePreviewUrl={this.state.imagePreviewUrl}\n                        removeImage={this.removeImage}\n                        onSubmitClicked={this.onSubmitClicked}\n                        onImageChange={this.onImageChange}\n                        submitInProgress={this.state.submitInProgress}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ImageUpload;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-upload/image-upload.js","import React from 'react';\nimport Paper from 'material-ui/Paper';\nimport Typography from 'material-ui/Typography';\nimport Help from 'material-ui-icons/Help';\n\n\nconst s = {\n    paperStyle: {\n        padding: 16\n    },\n    paperTitle: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    instructionImage: {\n        width: '100%',\n        height: 'auto'\n    }\n};\n\nconst TutorialPanel = () => (\n    <Paper elevation={4} style={s.paperStyle}>\n        <Typography type=\"title\" className=\"u-margin-xs-bottom\" style={s.paperTitle}>\n            <Help />\n            <span className=\"u-margin-xxs-left\">Ohjeet</span>\n        </Typography>\n        <ol>\n            <li>1. Ota kuva noin 10cm etäisyydeltä silmistäsi.</li>\n            <img\n                src={require('../../assets/images/otakuva.jpg')}\n                alt=\"Ota kuva\"\n                style={s.instructionImage}\n            />\n            <li>2. Klikkaa lähetä.</li>\n            <li>3. Tarkastele tuloksia.</li>\n        </ol>\n    </Paper>\n);\n\nexport default TutorialPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-upload/tutorial-panel.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from 'material-ui/Paper';\nimport Typography from 'material-ui/Typography';\nimport FileUpload from 'material-ui-icons/FileUpload';\nimport Button from 'material-ui/Button';\nimport classNames from 'classnames';\nimport DropArea from './droparea';\n\n\nconst s = {\n    paperStyle: {\n        padding: 16\n    },\n    paperTitle: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    controlButton: {\n        width: '100%'\n    }\n};\n\nconst UploadPanel = (props) => {\n    const controlButtonContainerClass = classNames({\n        'u-hidden': !props.imagePreviewUrl || props.submitInProgress,\n        'u-margin-sm-top': true,\n        row: true\n    });\n\n    return (\n        <Paper elevation={4} style={s.paperStyle}>\n            <Typography type=\"title\" className=\"u-margin-xs-bottom\" style={s.paperTitle}>\n                <FileUpload />\n                <span className=\"u-margin-xxs-left\">Lataa kuva</span>\n            </Typography>\n            <DropArea\n                imagePreviewUrl={props.imagePreviewUrl}\n                onImageChange={props.onImageChange}\n            />\n            <div className={controlButtonContainerClass}>\n                <div className=\"col-s-6 u-margin-xs-bottom\">\n                    <Button onClick={props.removeImage} style={s.controlButton} contrast raised>\n                        Uusi kuva\n                    </Button>\n                </div>\n                <div className=\"col-s-6\">\n                    <Button onClick={props.onSubmitClicked} style={s.controlButton} primary raised>\n                        Lähetä\n                    </Button>\n                </div>\n            </div>\n        </Paper>\n    );\n};\n\nUploadPanel.propTypes = {\n    imagePreviewUrl: PropTypes.string.isRequired,\n    onImageChange: PropTypes.func.isRequired,\n    removeImage: PropTypes.func.isRequired,\n    onSubmitClicked: PropTypes.func.isRequired,\n    submitInProgress: PropTypes.bool.isRequired\n};\n\nexport default UploadPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image-upload/upload-panel.js","import React from 'react';\n\n\nconst NotFoundPage = () => (\n    <div>Not Found</div>\n);\n\nexport default NotFoundPage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/not-found/not-found.js","/* eslint-disable max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardMedia, CardContent, CardActions } from 'material-ui/Card';\nimport Button from 'material-ui/Button';\nimport Typography from 'material-ui/Typography';\n\n\nconst s = {\n    paperStyle: {\n        padding: 16\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    responsiveSymptomImage: {\n        width: '100%',\n        height: 150\n    },\n    symptomButton: {\n        width: '100%'\n    },\n    card: {\n        margin: '0 0 24px 0'\n    },\n    firstCard: {\n        marginTop: 0,\n        marginBottom: 12\n    }\n};\n\nconst SymptomSelection = (props) => {\n    const goToPhotoUpload = () => {\n        props.history.push('/kuva-analyysi');\n    };\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-s-4\">\n                <Card style={s.firstCard}>\n                    <CardMedia>\n                        <img\n                            src=\"http://www.terve.fi/sites/default/files/media/terveyden_abc_uusi/laakarikirja/thinkstockphotos-470432764.jpg\"\n                            style={s.responsiveSymptomImage}\n                            alt=\"wound\"\n                            role=\"presentation\"\n                        />\n                    </CardMedia>\n                    <CardContent>\n                        <Typography type=\"headline\" component=\"h2\">\n                            Haava\n                        </Typography>\n                        <Typography component=\"p\">\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel orci molestie diam efficitur mattis.\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <Button raised primary style={s.symptomButton}>Aloita hoitoarvio</Button>\n                    </CardActions>\n                </Card>\n            </div>\n            <div className=\"col-s-4\">\n                <Card style={s.card}>\n                    <CardMedia>\n                        <img\n                            src=\"http://im.mtv.fi/image/3324602/landscape16_9/1024/576/a35798caeda534e4a609420462e51d14/jO/1828437.jpg\"\n                            style={s.responsiveSymptomImage}\n                            alt=\"eyes\"\n                            role=\"presentation\"\n                        />\n                    </CardMedia>\n                    <CardContent>\n                        <Typography type=\"headline\" component=\"h2\">\n                            Silmätulehdus\n                        </Typography>\n                        <Typography component=\"p\">\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel orci molestie diam efficitur mattis.\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <Button raised primary style={s.symptomButton} onClick={goToPhotoUpload}>\n                            Aloita hoitoarvio\n                        </Button>\n                    </CardActions>\n                </Card>\n            </div>\n            <div className=\"col-s-4\">\n                <Card style={s.card}>\n                    <CardMedia>\n                        <img\n                            src=\"http://www.terve.fi/sites/default/files/media/terveyden_abc_uusi/laakarikirja/thinkstockphotos-470432764.jpg\"\n                            style={s.responsiveSymptomImage}\n                            alt=\"rash\"\n                            role=\"presentation\"\n                        />\n                    </CardMedia>\n                    <CardContent>\n                        <Typography type=\"headline\" component=\"h2\">\n                            Ihottuma\n                        </Typography>\n                        <Typography component=\"p\">\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel orci molestie diam efficitur mattis.\n                        </Typography>\n                    </CardContent>\n                    <CardActions>\n                        <Button raised primary style={s.symptomButton}>Aloita hoitoarvio</Button>\n                    </CardActions>\n                </Card>\n            </div>\n        </div>\n    );\n};\n\nSymptomSelection.propTypes = {\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    }).isRequired\n};\n\nexport default SymptomSelection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/symptom-selection/symptom-selection.js","const ajaxEntity = {\n    isFetching: false,\n    lastUpdated: null,\n    fetchError: false\n};\n\nconst initialState = {\n    localeStore: {\n        ...ajaxEntity,\n        locale: null,\n        strings: {}\n    }\n};\n\nexport default initialState;\n\n\n\n// WEBPACK FOOTER //\n// ./src/redux/initial-state.js","import { combineReducers } from 'redux';\nimport localeReducer from '../components/locale/locale-reducer';\n\n\nexport default combineReducers({\n    localeStore: localeReducer\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/redux/root-reducer.js","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './root-reducer';\n\n\nconst configureStore = (initialState) => {\n    const middlewares = [\n        thunk\n    ];\n\n    const enhancers = [\n        applyMiddleware(...middlewares),\n        __DEV__ && typeof window === 'object' && typeof window.devToolsExtension !== 'undefined' ?\n        window.devToolsExtension() : f => f\n    ];\n\n    const store = createStore(rootReducer, initialState, compose(...enhancers));\n\n    if (module.hot) {\n        module.hot.accept('./root-reducer', () => {\n            try {\n                const nextReducer = require('./root-reducer').default;\n                store.replaceReducer(nextReducer);\n            } catch (err) {\n                console.error(`Reducer hot reloading error ${err}`);\n            }\n        });\n    }\n\n    return store;\n};\n\nexport default configureStore;\n\n\n\n// WEBPACK FOOTER //\n// ./src/redux/store.js","import express from 'express';\nimport bodyParser from 'body-parser';\nimport HttpStatus from 'http-status-codes';\nimport ImageController from './controllers/image-controller';\n\n\nconst apiRouter = express.Router(); // eslint-disable-line\napiRouter.use(bodyParser.json({ type: 'application/json' }));\n\nnew ImageController(apiRouter);\n\napiRouter.get('*', (req, res) => res.sendStatus(HttpStatus.NOT_FOUND));\napiRouter.use((err, req, res, next) => next(err));\n\nexport default apiRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/api-router.js","// eslint-disable max-len\nimport bodyParser from 'body-parser';\nimport fetch from 'isomorphic-fetch';\nimport FormData from 'form-data';\nimport fs from 'fs';\nimport path from 'path';\nimport sharp from 'sharp';\nimport httpStatus from 'http-status-codes';\nimport wrap from '../../lib/server/wrap';\n\nconst VISUAL_RECOGNITION_ENTRYPOINT = 'https://gateway-a.watsonplatform.net/visual-recognition/api/v3/classify?api_key=a1389efd3bb646317a3e6b9646269e52c0e8325e&version=2016-05-20';\nconst PHR_DOCUMENT_REFERENCE_ENDPOINT = 'https://oda.medidemo.fi/phr/baseDstu3/DocumentReference';\n\nclass ImageController {\n\n    constructor(router) {\n        this.router = router;\n        this.registerRoutes.call(this);\n    }\n\n    registerRoutes() {\n        this.router.post('/recognize-image', bodyParser.raw({\n            limit: '5mb',\n            type: 'image/jpeg'\n        }), wrap(ImageController.recognizeImage));\n    }\n\n    static recognizeImage(req, res) {\n        const mimetype = 'image/jpeg';\n        const base64Data = req.body.toString().replace(/^data:image\\/jpeg;base64,/, '');\n        const image = sharp(new Buffer(base64Data, 'base64'));\n        return image\n            .metadata()\n            .then(metadata => ImageController.resizeBuffer(image, metadata))\n            .then((imageBuffer) => {\n                const formData = new FormData();\n                formData.append('image_files', imageBuffer, { contentType: mimetype });\n                return fetch(VISUAL_RECOGNITION_ENTRYPOINT, { method: 'POST', body: formData })\n                    .then(response => response.json())\n                    .then(ImageController.enrichWithAnalysis)\n                    .then(json => res.json(json));\n            });\n    }\n\n    static detectEye(data) {\n        const withClassName = className => element => element.class === className;\n        const classes = data.images[0].classifiers[0].classes;\n        const contactLens = classes.find(withClassName('contact lens')) || { score: 0.0 };\n        const opticalDevice = classes.find(withClassName('optical device')) || { score: 0.0 };\n        const canthus = classes.find(withClassName('canthus (human eye)')) || { score: 0.0 };\n        return (contactLens.score > 0.5) || (opticalDevice.score > 0.5) || (canthus.score > 0.5);\n    }\n\n    static enrichWithAnalysis(result) {\n        return Object.assign({}, { isEye: ImageController.detectEye(result) }, result);\n    }\n\n    static resizeBuffer(image, metadata) {\n        const largerDimension = metadata.width > metadata.height ? { dimension: 'width', value: metadata.width } : { dimension: 'height', value: metadata.height };\n        if (largerDimension.value > 2500) {\n            console.log('Resizing image!');\n            const resized = largerDimension.dimension === 'width' ? image.resize(2000, null) : image.resize(null, 2000);\n            return resized.toBuffer();\n        }\n        return image.toBuffer();\n    }\n\n    static async uploadImageToPhr(req, res) {\n        const phrRequestBody = {\n            resourceType: 'DocumentReference',\n            status: 'current',\n            indexed: new Date(),\n            type: {\n                coding: [\n                    {\n                        system: 'http://loinc.ong',\n                        code: '52040-3'\n                    }\n                ]\n            },\n            content: [\n                {\n                    attachment: {\n                        data: new Buffer(fs.readFileSync(path.resolve(__dirname, '../../assets/images/eyes.jpg'))).toString('base64'),\n                        contentType: 'image/jpeg'\n                    }\n                }\n            ]\n        };\n\n        try {\n            const response = await fetch(PHR_DOCUMENT_REFERENCE_ENDPOINT, {\n                method: 'POST',\n                body: JSON.stringify(phrRequestBody),\n                headers: {\n                    'content-type': 'application/fhir+json'\n                }\n            });\n            return res.json(response);\n        } catch (err) {\n            return res.sendStatus(httpStatus.BAD_REQUEST);\n        }\n    }\n}\n\nexport default ImageController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/server/controllers/image-controller.js","const WebpackIsomorphicToolsPlugin = require('webpack-isomorphic-tools/plugin');\n\n\nmodule.exports = {\n    // debug: true,\n    // webpack_assets_file_path: 'webpack-assets.json',\n    // webpack_stats_file_path: 'webpack-stats.json',\n    assets: {\n        images: {\n            extensions: ['png', 'jpg', 'jpeg', 'gif'],\n            parser: WebpackIsomorphicToolsPlugin.url_loader_parser\n        },\n        fonts: {\n            extensions: ['eot', 'ttf', 'woff', 'woff2'],\n            parser: WebpackIsomorphicToolsPlugin.url_loader_parser\n        },\n        svg: {\n            extension: 'svg',\n            parser: WebpackIsomorphicToolsPlugin.url_loader_parser\n        },\n        style_modules: {\n            extensions: ['css', 'scss'],\n            filter: (module, regex, options, log) => {\n                if (options.development) {\n                    return WebpackIsomorphicToolsPlugin.style_loader_filter(module, regex, options, log);\n                }\n\n                return regex.test(module.name);\n            },\n            path: (module, options, log) => {\n                if (options.development) {\n                    return WebpackIsomorphicToolsPlugin.style_loader_path_extractor(module, options, log);\n                }\n\n                return module.name;\n            },\n            parser: (module, options, log) => {\n                if (options.development) {\n                    return WebpackIsomorphicToolsPlugin.css_modules_loader_parser(module, options, log);\n                }\n\n                return module.source;\n            }\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./tools/webpack/WIT.config.js","// Disable CSSModules here\nconst CSSModules = false;\n\n// Disable js lint error terminating here\nconst eslint = true;\n\n// Disable style lint error terminating here\nconst stylelint = false;\n\n// Register vendors here\nconst vendor = [\n    'react',\n    'react-dom',\n    'redux',\n    'react-redux',\n    'redux-thunk',\n    'react-hot-loader',\n    'react-router-dom',\n    'react-helmet',\n    'redbox-react',\n    'lodash'\n];\n\nmodule.exports = {\n    eslint,\n    stylelint,\n    vendor,\n    CSSModules\n};\n\n\n\n// WEBPACK FOOTER //\n// ./tools/webpack/config.js","'use strict'; // eslint-disable-line\n\nconst path = require('path');\nconst webpack = require('webpack');\nconst precss = require('precss');\nconst autoprefixer = require('autoprefixer');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst StyleLintPlugin = require('stylelint-webpack-plugin');\nconst { CSSModules, eslint, stylelint, vendor } = require('./config');\n\n\nconst nodeEnv = process.env.NODE_ENV || 'development';\nconst isDev = nodeEnv !== 'production';\n\nconst WebpackIsomorphicToolsPlugin = require('webpack-isomorphic-tools/plugin');\nconst webpackIsomorphicToolsPlugin = new WebpackIsomorphicToolsPlugin(require('./WIT.config')).development(isDev); // eslint-disable-line\n\nconst getPlugins = () => {\n    const plugins = [\n        new ExtractTextPlugin({\n            filename: '[name].[contenthash:8].css',\n            allChunks: true,\n            disable: isDev,\n            ignoreOrder: CSSModules\n        }),\n        new webpack.LoaderOptionsPlugin({\n            options: {\n                eslint: { failOnError: eslint },\n                context: '/',\n                debug: isDev,\n                minimize: !isDev\n            }\n        }),\n        new StyleLintPlugin({ syntax: 'scss', failOnError: stylelint }),\n        new webpack.EnvironmentPlugin({ NODE_ENV: JSON.stringify(nodeEnv) }),\n        new webpack.DefinePlugin({\n            __CLIENT__: true,\n            __SERVER__: false,\n            __DEV__: isDev\n        }),\n        new webpack.NoEmitOnErrorsPlugin(),\n        webpackIsomorphicToolsPlugin\n    ];\n\n    if (isDev) {\n        plugins.push(\n            new webpack.HotModuleReplacementPlugin(),\n            new webpack.NamedModulesPlugin(),\n            new webpack.IgnorePlugin(/webpack-stats\\.json$/)\n        );\n    } else {\n        plugins.push(\n            new webpack.optimize.CommonsChunkPlugin({ name: 'vendor', minChunks: Infinity }),\n            new webpack.HashedModuleIdsPlugin(),\n            new webpack.optimize.UglifyJsPlugin({\n                sourceMap: true,\n                beautify: false,\n                mangle: { screw_ie8: true },\n                compress: {\n                    screw_ie8: true,\n                    warnings: false,\n                    unused: true,\n                    dead_code: true\n                },\n                output: { screw_ie8: true, comments: false }\n            })\n        );\n    }\n\n    return plugins;\n};\n\nconst getEntry = () => {\n    let entry = [\n        'react-hot-loader/patch',\n        'webpack-hot-middleware/client?reload=true',\n        './src/client.js'\n    ];\n\n    if (!isDev) {\n        entry = {\n            main: './src/client.js',\n            vendor\n        };\n    }\n\n    return entry;\n};\n\nmodule.exports = {\n    name: 'client',\n    target: 'web',\n    cache: isDev,\n    devtool: isDev ? 'cheap-module-eval-source-map' : 'hidden-source-map',\n    context: path.join(process.cwd()),\n    entry: getEntry(),\n    output: {\n        path: path.join(process.cwd(), './build/public/assets'),\n        publicPath: '/assets/',\n        filename: isDev ? '[name].js' : '[name].[chunkhash:8].js',\n        chunkFilename: isDev ? '[name].chunk.js' : '[name].[chunkhash:8].chunk.js',\n        pathinfo: isDev\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.js$/,\n                enforce: 'pre',\n                exclude: /node_modules/,\n                loader: 'eslint'\n            },\n            {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                loader: 'babel',\n                options: {\n                    cacheDirectory: isDev,\n                    babelrc: false,\n                    presets: [['es2015', { modules: false }], 'react', 'stage-0'],\n                    plugins: ['transform-runtime', 'react-hot-loader/babel', 'lodash']\n                }\n            },\n            {\n                test: /\\.(scss|sass)$/,\n                loader: ExtractTextPlugin.extract({\n                    fallback: 'style',\n                    use: [\n                        {\n                            loader: 'css',\n                            options: {\n                                importLoaders: 2,\n                                sourceMap: true,\n                                modules: CSSModules,\n                                context: path.join(process.cwd(), './src'),\n                                localIdentName: isDev ? '[name]__[local].[hash:base64:5]' : '[hash:base64:5]',\n                                minimize: !isDev\n                            }\n                        },\n                        {\n                            loader: 'postcss-loader',\n                            options: {\n                                plugins: () => ([\n                                    precss,\n                                    autoprefixer({ browsers: ['last 10 versions'] })\n                                ])\n                            }\n                        },\n                        {\n                            loader: 'sass',\n                            options: {\n                                outputStyle: 'expanded',\n                                sourceMap: true,\n                                sourceMapContents: !isDev\n                            }\n                        }\n                    ]\n                })\n            },\n            {\n                test: /\\.(woff2?|ttf|eot|svg)$/,\n                loader: 'url',\n                options: { limit: 10000 }\n            },\n            {\n                test: webpackIsomorphicToolsPlugin.regular_expression('images'),\n                use: [\n                    {\n                        loader: 'url',\n                        options: { limit: 10240 }\n                    },\n                    {\n                        loader: 'image-webpack',\n                        options: { bypassOnDebug: true }\n                    }\n                ]\n            }\n        ]\n    },\n    plugins: getPlugins(),\n    resolveLoader: {\n        modules: ['src', 'node_modules'],\n        moduleExtensions: ['-loader']\n    },\n    resolve: {\n        modules: ['src', 'node_modules'],\n        descriptionFiles: ['package.json'],\n        moduleExtensions: ['-loader'],\n        extensions: ['.js', '.json']\n    },\n    node: {\n        fs: 'empty',\n        vm: 'empty',\n        net: 'empty',\n        tls: 'empty'\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./tools/webpack/webpack.client.js","module.exports = __webpack_public_path__ + \"e3309ed8395192f9c35b82e6621ef003.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/otakuva.jpg\n// module id = 59\n// module chunks = 0","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 60\n// module chunks = 0","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 61\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 62\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/objectWithoutProperties\"\n// module id = 63\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/typeof\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/typeof\"\n// module id = 64\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 65\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 66\n// module chunks = 0","module.exports = require(\"extract-text-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"extract-text-webpack-plugin\"\n// module id = 67\n// module chunks = 0","module.exports = require(\"forcedomain\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"forcedomain\"\n// module id = 68\n// module chunks = 0","module.exports = require(\"form-data\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"form-data\"\n// module id = 69\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 70\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 71\n// module chunks = 0","module.exports = require(\"hpp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"hpp\"\n// module id = 72\n// module chunks = 0","module.exports = require(\"lodash/isEmpty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/isEmpty\"\n// module id = 73\n// module chunks = 0","module.exports = require(\"lodash/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/keys\"\n// module id = 74\n// module chunks = 0","module.exports = require(\"lodash/uniqueId\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/uniqueId\"\n// module id = 75\n// module chunks = 0","module.exports = require(\"material-ui-icons/AddAPhoto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui-icons/AddAPhoto\"\n// module id = 76\n// module chunks = 0","module.exports = require(\"material-ui-icons/FileUpload\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui-icons/FileUpload\"\n// module id = 77\n// module chunks = 0","module.exports = require(\"material-ui-icons/Help\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui-icons/Help\"\n// module id = 78\n// module chunks = 0","module.exports = require(\"material-ui-icons/Menu\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui-icons/Menu\"\n// module id = 79\n// module chunks = 0","module.exports = require(\"material-ui/AppBar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/AppBar\"\n// module id = 80\n// module chunks = 0","module.exports = require(\"material-ui/Card\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/Card\"\n// module id = 81\n// module chunks = 0","module.exports = require(\"material-ui/IconButton\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/IconButton\"\n// module id = 82\n// module chunks = 0","module.exports = require(\"material-ui/Toolbar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/Toolbar\"\n// module id = 83\n// module chunks = 0","module.exports = require(\"material-ui/styles/colors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/styles/colors\"\n// module id = 84\n// module chunks = 0","module.exports = require(\"material-ui/styles/palette\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/styles/palette\"\n// module id = 85\n// module chunks = 0","module.exports = require(\"material-ui/styles/theme\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"material-ui/styles/theme\"\n// module id = 86\n// module chunks = 0","module.exports = require(\"precss\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"precss\"\n// module id = 87\n// module chunks = 0","module.exports = require(\"qs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"qs\"\n// module id = 88\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 89\n// module chunks = 0","module.exports = require(\"react-dropzone\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dropzone\"\n// module id = 90\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 91\n// module chunks = 0","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 92\n// module chunks = 0","module.exports = require(\"serialize-javascript\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serialize-javascript\"\n// module id = 93\n// module chunks = 0","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 94\n// module chunks = 0","module.exports = require(\"sharp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sharp\"\n// module id = 95\n// module chunks = 0","module.exports = require(\"stylelint-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stylelint-webpack-plugin\"\n// module id = 96\n// module chunks = 0","module.exports = require(\"webpack-dev-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-dev-middleware\"\n// module id = 97\n// module chunks = 0","module.exports = require(\"webpack-hot-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-hot-middleware\"\n// module id = 98\n// module chunks = 0"],"sourceRoot":""}